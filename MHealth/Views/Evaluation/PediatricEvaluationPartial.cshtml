@using MHealth.Helper;
@using DAL.Models;
@model mp_pediatric_evaluation
@{
    ViewData["Title"] = "Create";
    var yes_no_dropdown = ViewHelper.GetLookUpDropDown("yesno");
    var symptoms = ViewHelper.GetSymptoms();
}
<div class="row">
    <div class="col-lg-12">
        <div class="main-card card">
            <div class="card-header">
                Pediatric Evaluation
            </div>
            <div class="card-body">
                <form id="pediatric_evaluation_form" action="PediatricEvaluationPartial" method="POST">
                    <input type="hidden" name="profile_id" value="@ViewBag.profile_id"/>
                    <input type="hidden" name="appointment_id" value="@ViewBag.appointment_id"/>
                    <div class="form-row">
                        <div class="col-md-12">
                            <div class="position-relative form-group">
                                <label for="visit_date" class="form-label"> Visit Date </label>
                                @if (Model.visit_date.HasValue)
                                {
                                    <input type="date" name="visit_date" id="visit_date" value="@Model.visit_date.Value.ToString("yyyy-MM-dd")" required class="form-control">
                                }
                                else
                                {
                                    <input type="date" name="visit_date" id="visit_date" value="" required class="form-control">
                                }

                            </div>
                        </div>
                        <div class="col-md-12">
                        <div class="position-relative form-group">
                                <label for="complaiant" class="form-label"> Present complain</label>
                                <textarea class="form-control" required name="complaiant" id="complaiant">@Model.complaiant</textarea>
                            </div>
                        </div>                                      
                    </div>
                    <div class="form-row">
                        <label for="family_mental_health" class="form-label">Symptoms in the last month </label>
                        <div class="col-md-12 row">
                            @foreach (var item in symptoms)
                            {
                                var chcked= "";
                                if (Model.mp_ped_symptomps.Any())
                                {
                                    if (Model.mp_ped_symptomps.FirstOrDefault(e=>e.symptom_id==item.id) != null)
                                    {
                                        chcked = "checked";
                                    }
                                }

                                <div class="col-md-4">
                                    <div class="custom-checkbox custom-control custom-control-inline">
                                        <input type="checkbox" @chcked id="@item.symptom" value="@item.id" name="symptoms" class="custom-control-input">
                                        <label class="custom-control-label" for="@item.symptom">@item.symptom</label>
                                    </div>
                                </div>
                            }
                        </div>                
                    </div>
                    <div class="form-row">
                        <div class="col-md-6">
                            <div class="position-relative form-group">
                                <label for="family_history" class="form-label">Family history/additional comments </label>
                                <textarea class="form-control" required name="family_history" id="family_history">@Model.family_history</textarea>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="position-relative form-group">
                                <label for="past_medical_probelms" class="form-label">Past medical Problems</label>
                                <textarea class="form-control" required name="past_medical_probelms" id="past_medical_probelms">@Model.past_medical_probelms</textarea>
                            </div>
                        </div> 
                    </div>
                    <div class="form-row">
                        <div class="col-md-6">
                            <div class="position-relative form-group">
                                <label for="illness_since_last_visit" class="form-label">Illnesses since last visit </label>
                                <textarea class="form-control" required name="illness_since_last_visit" id="illness_since_last_visit">@Model.illness_since_last_visit</textarea>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="position-relative form-group">
                                <label for="drug_allergy" class="form-label">Drug Allergies</label>
                                <textarea class="form-control" required name="drug_allergy" id="drug_allergy">@Model.drug_allergy</textarea>
                            </div>
                        </div> 
                    </div>
                    <div class="form-row">
                        <div class="col-md-3">
                            <div class="position-relative form-group">
                                <label for="temp" class="form-label">Temp. (C)</label>
                                <input type="text" name="temp" required id="temp" class="form-control" value="@Model.temp">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="position-relative form-group">
                                <label for="pulse" class="form-label">Pulse</label>
                                <input type="text" name="pulse" required id="pulse" class="form-control" value="@Model.pulse">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="position-relative form-group">
                                <label for="bp" class="form-label">Bp (mm/Hg) </label>
                                <input type="text" name="bp" required id="bp" class="form-control" value="@Model.bp">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="position-relative form-group">
                                <label for="weight" class="form-label">Weight (kg)</label>
                                <input type="text" name="weight" id="weight" class="form-control" value="@Model.weight">
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-4">
                            <div class="position-relative form-group">
                                <label for="ht_lt" class="form-label">Ht/Lt (cm)</label>
                                <input type="text" name="ht_lt" id="ht_lt" class="form-control" value="@Model.ht_lt">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="position-relative form-group">
                                <label for="head_circumference" class="form-label">Head Cir. (cm) </label>
                                <input type="text" name="head_circumference" id="head_circumference" class="form-control" value="@Model.head_circumference">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="position-relative form-group">
                                <label for="mid_upper_arm" class="form-label">Mid Upper arm cir.(cm) </label>
                                <input type="text" name="mid_upper_arm" id="mid_upper_arm" class="form-control" value="@Model.mid_upper_arm">
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-12">
                            <div class="position-relative form-group">
                                <label for="visit_summary" class="form-label"> Summary of Visit </label>
                                <textarea class="form-control" required name="visit_summary" id="visit_summary">@Model.visit_summary</textarea>
                            </div>
                        </div>
                    </div>

                        <h5 class="text-info">Plan of Care</h5>
                    <div class="form-row">
                        <div class="col-md-6">
                            <div class="position-relative form-group">
                                <label for="medication" class="form-label"> Medication </label>
                                <textarea class="form-control" required name="medication" id="medication">@Model.medication</textarea>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="position-relative form-group">
                                <label for="referral" class="form-label">Refferral</label>
                                <textarea class="form-control" required name="referral" id="referral">@Model.referral</textarea>
                            </div>
                        </div> 
                    </div>
                    <div class="form-row">
                        <div class="col-md-12">
                            <div class="position-relative form-group">
                                <label for="additional_information" class="form-label"> Additional information </label>
                                <textarea class="form-control" required name="additional_information" id="additional_information">@Model.additional_information</textarea>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="position-relative form-group">
                                <label for="next_visit" class="form-label">Next visit</label>
                                @if (Model.next_visit.HasValue)
                                {
                                    <input type="date" name="next_visit" id="next_visit" class="form-control" value="@Model.next_visit.Value.ToString("yyyy-MM-dd")">
                                }
                                else
                                {
                                    <input type="date" name="next_visit" id="next_visit" class="form-control">
                                }

                            </div>
                        </div> 
                    </div>
                    <div class="d-block text-right card-footer">
                        <button type="button" class="mt-3 btn btn-success" id="pediatric_evaluation_button">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>