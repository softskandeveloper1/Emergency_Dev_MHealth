@using DAL.Utils;
@{
    ViewBag.Title = "Register";
    Layout = "_Layout_guest";
    var appointment_type = (int)ViewBag.appointment_type;
    var appointment_category_sub = (int)ViewBag.appointment_category_sub;
    var appointment_category = (int)ViewBag.appointment_category;
}




@section styles{
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!-- CSS -->
    @*<link rel="stylesheet" href="~/front/bootstrap/css/bootstrap.min.css">*@
    <link rel="stylesheet" href="~/front/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/front/css/form-elements.css">
    <link rel="stylesheet" href="~/front/css/style.css">


    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


    <style>


        select {
            height: 44px !important
        }

        input[type=date].form-control {
            height: 44px !important
        }

        .card-header {
            padding: .75rem 1.25rem;
            margin-bottom: 0;
            color: inherit;
            background-color: rgba(0, 0, 0, 0.7);
            border-bottom: 1px solid rgba(26,54,126,0.125);
        }

        .card-header, .card-title {
            text-transform: uppercase;
            color: white;
            font-weight: bold;
            font-size: .88rem;
        }


        .f1 {
            background-color: transparent;
        }

        .control-label {
            /*color:white;*/
        }

        .control-label {
            font-weight: bold;
            color: black
        }

        .circular_image {
            width: 50%;
            height: 50%;
            border-radius: 50%;
            overflow: hidden;
            display: inline-block;
            vertical-align: middle;
            margin-left: auto;
            margin-right: auto;
            margin-top: 15px;
            margin-bottom: 15px;
            border: 1px solid #ccc
        }

            .circular_image img {
                /*width: 100%;*/
            }

        .round-image {
            width: 250px;
            height: 250px;
            background-image: url('../images/5.jpg');
            background-size: cover;
            display: block;
            border-radius: 125px;
            -webkit-border-radius: 125px;
            -moz-border-radius: 125px;
            border: 1px solid #ccc
        }
    </style>

    <style>


        a {
            text-decoration: none !important;
        }

        .comment {
            color: steelblue
        }
    </style>
    <style>
        /* Make sure that padding behaves as expected */
        * {
            box-sizing: border-box
        }
    </style>
    <link href="~/assets/css/wizard.css" type="text/css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css">
}



<div class="row">
    <div class="col-md-4 offset-md-4">




        <div class="card" style="border-color:#fff">
            <div class="text-center">
                <div class="round-image" style="margin-left:auto;margin-right:auto;margin-bottom:10px"></div>
            </div>



        </div>

        <div class="error-content" style="display:none">
            <div class="text-center">
                <img src="~/images/error.png" alt="error" style="height:200px">
            </div>


            <h3>Can't continue</h3>
            <p style="        margin-bottom: 50px;
        font-size: 1.2rem;
        color: black">Sorry you are not eligible to become a member yet. You have to be 13 years and above to become a member</p>

            <a href="~/" class="btn btn-primary">Go to Home <i class="flaticon-right-chevron"></i></a>
        </div>

        <p style="margin-bottom:50px; font-size:1.2rem; color:black" id="p_behavioral"> Please complete this questionnaire to help us match you to the right provider. The provider will use the information provided to better support you</p>

        <form role="form" method="post" asp-controller="user" asp-action="registerclient" id="frm_register">
            <input type="hidden" name="appointment_type" value="@appointment_type" />
            <input type="hidden" name="appointment_category_id" value="@ViewBag.appointment_category" />
            <input type="hidden" name="appointment_category_sub_id" value="@ViewBag.appointment_category_sub" />
            <div class="card" id="div_behavioral">


                <div class="card-body f1">



                    @if (appointment_type == 1 && appointment_category_sub == 1)
                    {
                        <!--individual counseling-->
                        <partial name="_partial_individual_questionnaire" />

                        <fieldset>
                            <div class="form-group">
                                <label class="control-label">Do you want your child to receive counseling?</label>
                                <select class="form-control" id="child_to_recieve_counseling">
                                    <option value="1">Yes (I want counseling for my child)</option>
                                    <option value="2">No (I only want parental advice)</option>
                                    <option value="3">Not sure yet (Decide later)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-previous">Previous</button>
                                    <button type="button" class="btn btn-next">Next</button><br><br>
                                </div>
                            </div>
                        </fieldset>

                        <partial name="_partial_child_questionnaire" />

                        <fieldset>
                            <div class="form-group">
                                <label class="control-label">Would you like your spouse/partner to join you in counseling?</label>
                                <select class="form-control" id="couple_to_recieve_counseling">
                                    <option value="1">Yes (couples counseling)</option>
                                    <option value="2">No (individual counseling)</option>
                                    <option value="3">Not sure yet (Decide later)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-previous">Previous</button>
                                    <button type="button" class="btn btn-next">Next</button><br><br>
                                </div>
                            </div>
                        </fieldset>

                        <partial name="_partial_couple_questionnaire" />

                        <fieldset>
                            <div class="form-group">
                                <label class="control-label">Would you like other family members to join you in counseling?</label>
                                <select class="form-control" id="family_to_recieve_counseling">
                                    <option value="1">Yes (family counseling)</option>
                                    <option value="2">No (individual counseling)</option>
                                    <option value="3">Not sure yet (Decide later)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-previous">Previous</button>
                                    <button type="button" class="btn btn-next">Next</button><br><br>
                                </div>
                            </div>
                        </fieldset>
                    }
                    else if (appointment_type == 1 && appointment_category_sub == 2)
                    {
                        <!--Couples counseling-->
                        <partial name="_partial_individual_questionnaire" />
                        <partial name="_partial_couple_questionnaire" />
                    }
                    else if (appointment_type == 1 && appointment_category_sub == 3)
                    {
                        <!--Child counseling-->
                        <partial name="_partial_individual_questionnaire" />
                        <partial name="_partial_child_questionnaire" />
                    }
                    else if (appointment_type == 1 && appointment_category_sub == 4)
                    {
                        <!--Family counseling-->
                        @*<partial name="_partial_family_questionnaire" />*@
                        <partial name="_partial_individual_questionnaire" />
                    }
                    else if (appointment_type == 2 || appointment_type == 3 || (appointment_type == 1 && appointment_category == 8))
                    {
                        <fieldset>
                            <div class="form-group">
                                <label class="control-label">What do you identify your self as?</label>
                                <select name="gender" class="form-control">
                                    @foreach (var lookup in Options.Getlookups("gender"))
                                    {
                                        <option value="@lookup.id">@lookup.value</option>
                                    }
                                    <option value="0">I don’t have a preference</option>
                                </select>

                                @*@Html.DropDownList("gender", new SelectList(Options.Getlookups("gender"), "id", "value", null), null, new { @class = "form-control", @required = "required" })*@
                            </div>
                            <div class="form-group">
                                <div class="f1-buttons">
                                    @*<button type="button" class="btn btn-previous">Previous</button>*@
                                    <button type="button" class="btn btn-previous" onclick="window.history.back();">Previous</button>
                                    <button type="button" class="btn btn-next">Next</button><br><br>
                                </div>
                            </div>
                        </fieldset>
                        <fieldset>
                            <div class="form-group">
                                <label class="control-label">What is your religion?</label>
                                <select name="religion" class="form-control" id="religion">
                                    @foreach (var lookup in Options.Getlookups("religion"))
                                    {
                                        <option value="@lookup.id">@lookup.value</option>
                                    }

                                    <option value="0">I don’t have a preference</option>
                                </select>
                                @*@Html.DropDownList("religion", new SelectList(Options.Getlookups("religion"), "id", "value", null), null, new { @class = "form-control", @required = "required" })*@
                            </div>
                            <div class="form-group" id="div_religion_other" style="display:none">
                                <label class="control-label">Please specifiy</label>
                                <input type="text" name="religion_other" id="religion_other" class="form-control" />
                            </div>
                            <div class="form-group">
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-previous">Previous</button>
                                    <button type="button" class="btn btn-next">Next</button><br><br>
                                </div>
                            </div>
                        </fieldset>
                        <fieldset>
                            <div class="form-group">
                                <label class="control-label">What tribe do you prefer to be identified as?</label>
                                <select name="tribe" class="form-control" id="tribe">
                                    @foreach (var lookup in Options.Getlookups("tribe"))
                                    {
                                        <option value="@lookup.id">@lookup.value</option>
                                    }
                                    @*<option value="201">Other</option>*@
                                    <option value="0">I don’t have a preference</option>
                                </select>
                                @*@Html.DropDownList("tribe", new SelectList(Options.Getlookups("tribe"), "id", "value", null), null, new { @class = "form-control", @required = "required" })*@
                            </div>
                            <div class="form-group" id="div_tribe_other" style="display:none">
                                <label class="control-label">Please specifiy</label>
                                <input type="text" name="tribe_other" id="tribe_other" class="form-control" />
                            </div>
                            <div class="form-group">
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-previous">Previous</button>
                                    <button type="button" class="btn btn-next">Next</button><br><br>
                                </div>
                            </div>
                        </fieldset>

                        @if (appointment_type == 2 || appointment_type == 3)
                        {
                            <fieldset>
                                <div class="form-group">
                                    <label class="control-label">Please select years of experience of your provider</label>
                                    <select name="years_of_experience" class="form-control">
                                        @foreach (var lookup in Options.Getlookups("years_of_experience"))
                                        {
                                            <option value="@lookup.id">@lookup.value</option>
                                        }
                                        <option value="">I don’t have a preference</option>
                                    </select>
                                    @*@Html.DropDownList("years_of_experience", new SelectList(Options.Getlookups("years_of_experience"), "id", "value", null), null, new { @class = "form-control", @required = "required" })*@
                                </div>
                                <div class="form-group">
                                    <div class="f1-buttons">
                                        <button type="button" class="btn btn-previous">Previous</button>
                                        <button type="button" class="btn btn-next">Next</button><br><br>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <div class="form-group">
                                    <label class="control-label">Do you have a gender preference for your provider?</label>
                                    <select name="counselor_preference" class="form-control">
                                        @foreach (var lookup in Options.Getlookups("counselor_preference"))
                                        {
                                            <option value="@lookup.id">@lookup.value</option>
                                        }
                                        @*<option value="">I don’t have a preference</option>*@
                                    </select>
                                    @*@Html.DropDownList("counselor_preference", new SelectList(Options.Getlookups("counselor_preference"), "id", "value", null), null, new { @class = "form-control", @required = "required" })*@
                                </div> <div class="form-row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <div class="f1-buttons">
                                                <button type="button" class="btn btn-previous">Previous</button>
                                                <button type="button" class="btn btn-next">Next</button><br><br>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </fieldset>


                            <fieldset>
                                <div class="form-group">
                                    <label class="control-label">Do you want individual provider, clinic or hospital?</label>
                                    <select name="provider_type" class="form-control">
                                        @foreach (var lookup in Options.Getlookups("provider_type"))
                                        {
                                            <option value="@lookup.id">@lookup.value</option>
                                        }
                                        <option value="">I don’t have a preference</option>
                                    </select>
                                    @*@Html.DropDownList("provider_type", new SelectList(Options.Getlookups("provider_type"), "id", "value", null), null, new { @class = "form-control", @required = "required" })*@
                                </div> <div class="form-row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <div class="f1-buttons">
                                                <button type="button" class="btn btn-previous">Previous</button>
                                                <button type="button" class="btn btn-next">Next</button><br><br>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </fieldset>
                        }
                    }

                    @if (appointment_type == 1)
                    {

                        <fieldset>
                            <div class="form-group">
                                <label class="control-label">
                                    Do you want clinical therapy or clinical + faith (TBD)?
                                </label>
                                <select class="form-control" name="clinicalTherapyFaith">
                                    <option value="true">Yes</option>
                                    <option value="false">No</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <div class="f1-buttons">
                                    <button type="button" class="btn btn-previous">Previous</button>
                                    <button type="button" class="btn btn-next">Next</button><br><br>
                                </div>
                            </div>
                        </fieldset>
                    }
                    <fieldset>
                        @*<legend>Provider matching</legend>*@
                        <div class="text-center" style="font-size:2rem; color:black">
                            Questionnaire Completed.
                        </div>
                        <div class="form-group">
                            <div class="f1-buttons">
                                <button type="button" onclick="scroll_to_top()" class="btn btn-next">Next</button><br><br>
                            </div>
                        </div>
                    </fieldset>

                    @*<fieldset>
                            <legend>Select a provider</legend>
                            <div class="scrollbar" id="style-15">


                                <div class="row" style="min-height:450px" id="div_clinicians">
                                    <div class="text-center">
                                        <span style="color:black">Matching you with providers, please wait ...</span>
                                        <img id="loader" src="~/assets/images/loaders/30.gif" style="height:20px" />
                                    </div>

                                </div>

                            </div>

                        </fieldset>*@


                    <fieldset>
                        <legend><strong>Create your member account</strong></legend>

                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Last name</label>
                                    <input maxlength="200" type="text" required="required" name="last_name" class="form-control" placeholder="Enter last name" />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Firstname</label>
                                    <input maxlength="200" type="text" required="required" name="first_name" class="form-control" placeholder="Enter first name" />
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Phone</label>
                                    <input maxlength="200" type="text" required="required" name="phone" class="form-control" placeholder="Enter your phone number" />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Email</label>
                                    <input maxlength="200" type="text" required="required" id="email" name="email" onkeyup="update_username(this.value)" class="form-control" placeholder="Enter your email address" />
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Preferred name</label>
                                    <input maxlength="200" type="text" required="required" name="preferred_name" class="form-control" placeholder="Enter your preferred name" />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Address</label>
                                    <input type="text" required="required" name="address" class="form-control" placeholder="Enter your address" />
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Area</label>
                                    <input maxlength="200" type="text" required="required" name="area" class="form-control" placeholder="Enter your area " />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">City of residence</label>
                                    <input maxlength="200" type="text" required="required" name="city" class="form-control" placeholder="Enter your city " />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">State</label>
                                    @Html.DropDownList("state", new SelectList(Options.GetStates(), "id", "name", null), null, new { @class = "form-control", @required = "required" })
                                </div>
                            </div>
                        </div>
                        <input type="hidden" name="country" value="160" />
                        <div class="form-row">

                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Date of birth</label>
                                    @*<input maxlength="200" type="date" required="required" name="dob" class="form-control" max="@DateTime.Now.AddYears(-13).ToString("yyyy-MM-dd")" />*@
                                    <input type="text" required="required" name="dob" class="form-control" id="dob" />
                                    @*<div id="datepicker" class="input-group date" data-date-format="mm-dd-yyyy">
                                            <input class="form-control" type="text" readonly required="required" name="dob" />
                                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                        </div>*@
                                </div>
                            </div>

                        </div>
                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Education level</label>
                                    @Html.DropDownList("education_level", new SelectList(Options.Getlookups("education_level"), "id", "value", null), null, new { @class = "form-control", @required = "required" })
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">School Name</label>
                                    <input maxlength="200" type="text" required="required" name="school_name" class="form-control" placeholder="Enter your school name" />
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Can you tell us more about yourself</label>
                                    <textarea class="form-control" name="about" required></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <div class="f1-buttons">
                                        <button type="button" class="btn btn-previous">Previous</button>
                                        <button type="button" class="btn btn-next">Next</button><br><br>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>


                    <fieldset>
                        <legend>Emergency contact details</legend>

                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Last name</label>
                                    <input maxlength="200" type="text" required="required" name="emergency_last_name" class="form-control" placeholder="Enter last name" />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Firstname</label>
                                    <input maxlength="200" type="text" required="required" name="emergency_first_name" class="form-control" placeholder="Enter first name" />
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Phone</label>
                                    <input maxlength="200" type="text" required="required" name="emergency_phone" class="form-control" placeholder="Enter your phone number" />
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">Email</label>
                                    <input maxlength="200" type="text" required="required" id="emergency_email" name="emergency_email" class="form-control" placeholder="Enter your email address" />
                                </div>
                            </div>
                        </div>

                        <div class="form-group" id="div_button">
                            <div class="f1-buttons">
                                <button type="button" class="btn btn-previous">Previous</button>
                                <button type="button" class="btn btn-next">Next</button><br><br>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Enter your account credentials</legend>

                        <div class="form-group">
                            <label class="control-label">Email</label>
                            <input maxlength="200" type="email" required="required" name="username" id="username" class="form-control" placeholder="Enter your email" style="height:44px" autocomplete="anyrandomstring" />
                        </div>
                        <div class="form-group">
                            <label class="control-label">Password</label>
                            <input maxlength="200" type="password" required="required" name="password" autocomplete="anyrandomstring" id="password" onkeyup="validatePassword(this.value);" class="form-control" />
                            <span id="msg"></span>
                        </div>

                        <div class="form-group">
                            <label class="control-label">Confirm Password</label>
                            <input maxlength="200" type="password" required="required" id="confirm_password" autocomplete="anyrandomstring" class="form-control" onkeyup="compare_passwords()" />
                            <span id="confirm_msg"></span>
                        </div>
                        <div class="form-group" id="div_spinner" style="display:none">
                            <div class="text-center">
                                <img id="loader" src="~/assets/images/loaders/30.gif" style="height:20px" />
                                <h5>Creating account, please wait...</h5>
                            </div>
                        </div>
                        <div class="form-group" id="div_button">
                            <div class="f1-buttons">
                                <button type="button" class="btn btn-previous">Previous</button>
                                <button type="submit" class="btn btn-submit" disabled id="btn_submit">Submit</button>

                            </div>
                        </div>

                    </fieldset>




                </div>



            </div>

        </form>

    </div>
</div>





@section scripts{
    <!-- Javascript -->
    <script src="~/front/js/jquery-1.11.1.min.js"></script>
    <script src="~/front/bootstrap/js/bootstrap.min.js"></script>
    <script src="~/front/js/jquery.backstretch.min.js"></script>
    @*<script src="~/front/js/retina-1.1.0.min.js"></script>*@
    <script src="~/front/js/scripts.js"></script>
    <script src="~/assets/scripts/wizard.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
    <script src="~/js/password.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $(document).ready(function () {
            $("#dob").datepicker({
                changeMonth: true,
                changeYear: true
            });
            $("#frm_register").submit(function (e) {

                e.preventDefault();

                $("#div_button").hide();
                $("#div_spinner").show();

                var form = $(this);
                var url = form.attr('action');

                $.ajax({
                    type: "POST",
                    url: url,
                    data: form.serialize(),
                    success: function (data) {
                        if (data == 200) {
                            //navigate to
                            window.location.href = "/Identity/Account/Login";

                        } else {
                            $("#div_spinner").hide();
                            $("#div_button").show();
                            alert(data);
                        }
                    }
                });
            });
        });
    </script>
    <script id="rendered-js">
        $(function () {
            $("#datepicker").datepicker({
                autoclose: true,
                todayHighlight: true
            });
            // datepicker('update', new Date());
        });

        function load_matching() {
            hide_info();
            $("#div_info").hide();
            var millisecondsToWait = 5000;
            setTimeout(function () {
                $("#div_clinicians").load('/Clinician/MatchClinicians');
            }, millisecondsToWait);


        }

        $("#btn_submit").attr("disabled", "disabled");

        $('#religious').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Yes") {
                $("#div_religion").show();
            } else {
                $("#div_religion").hide();
            }
        });

        function hide_info() {
            $("#p_behavioral").hide();
        }
        //eligible
        $('#eligible').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Yes") {
                $("#div_behavioral").show();
                $("#p_behavioral").show();
                $(".error-content").hide();
            } else {
                $("#div_behavioral").hide();
                $("#p_behavioral").hide();
                $(".error-content").show();
            }
        });

        $('#religion').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_religion_other").show();
                $("#religion_other").attr("required", "required");

            } else {
                $("#div_religion_other").hide();
                $("#religion_other").removeAttr("required");
                $("#religion_other").val("");
            }
        });

        $('#tribe').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_tribe_other").show();
                $("#tribe_other").attr("required", "required");

            } else {
                $("#div_tribe_other").hide();
                $("#tribe_other").removeAttr("required");
                $("#tribe_other").val("");
            }
        });

        $('#relationship_status').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_relationship_status_other").show();
                $("#relationship_status_other").attr("required", "required");

            } else {
                $("#div_relationship_status_other").hide();
                $("#relationship_status_other").removeAttr("required");
                $("#relationship_status_other").val("");
            }
        });

        $('#preferred_language').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_preferred_language_other").show();
                $("#preferred_language_other").attr("required", "required");

            } else {
                $("#div_preferred_language_other").hide();
                $("#preferred_language_other").removeAttr("required");
                $("#preferred_language_other").val("");
            }
        });


        $('#appointment_category_sub').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_appointment_category_sub_other").show();
                $("#appointment_category_sub_other").attr("required", "required");

            } else {
                $("#div_appointment_category_sub_other").hide();
                $("#appointment_category_sub_other").removeAttr("required");
                $("#appointment_category_sub_other").val("");
            }
        });


        $('#child_relationship_to').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_child_relationship_to_other").show();
                $("#child_relationship_to_other").attr("required", "required");

            } else {
                $("#div_child_relationship_to_other").hide();
                $("#child_relationship_to_other").removeAttr("required");
                $("#child_relationship_to_other").val("");
            }
        });

        $('#check_concerns_293').click(function () {
            if (this.checked == true) {
                $("#div_child_issue_concerns_other").show();
                $("#child_issue_concerns_other").attr("required", "required");
            } else {
                $("#div_child_issue_concerns_other").hide();
                $("#child_issue_concerns_other").removeAttr("required");
                $("#child_issue_concerns_other").val("");
            }
        });



        $('#child_to_recieve_counseling').on('change', function (e) {
            var valueSelected = this.value;
            if (valueSelected == 3 || valueSelected == 2) {
                $(".child").remove();
            }
        });


        $('#couple_to_recieve_counseling').on('change', function (e) {
            var valueSelected = this.value;
            if (valueSelected == 3 || valueSelected == 2) {
                $(".couple").remove();
            }
        });

        function update_username(email) {
            $("#username").val(email);
        }

        $('#tribe').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_tribe_other").show();
                $("#tribe_other").attr("required", "required");

            } else {
                $("#div_tribe_other").hide();
                $("#tribe_other").removeAttr("required");
                $("#tribe_other").val("");
            }
        });

        $('#child_relationship_to').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_child_relationship_to_other").show();
                $("#child_relationship_to_other").attr("required", "required");

            } else {
                $("#div_child_relationship_to_other").hide();
                $("#child_relationship_to_other").removeAttr("required");
                $("#child_relationship_to_other").val("");
            }
        });
        $('#child_preferred_language').on('change', function (e) {
            var optionSelected = $("option:selected", this);
            if (optionSelected.text() == "Other") {
                $("#div_child_preferred_language_other").show();
                $("#child_preferred_language_other").attr("required", "required");

            } else {
                $("#div_child_preferred_language_other").hide();
                $("#child_preferred_language_other").removeAttr("required");
                $("#child_preferred_language_other").val("");
            }
        });


        function scroll_to_top() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
    <!--[if lt IE 10]>
        <script src="assets/js/placeholder.js"></script>
    <![endif]-->
}








